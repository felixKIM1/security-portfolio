# 🔥 방화벽 정책 구성 및 위치 판단 실무 경험

## 🛠️ 업무 개요

사내 인프라 환경에서 운영 중인 방화벽에 대해  
접근 제어 정책(ACL)의 **추가, 수정, 삭제 작업을 수행**했습니다.  
단순 요청 처리뿐만 아니라, **정책의 흐름과 우선순위(TOP-DOWN 구조)**를 고려하여  
정상적으로 트래픽이 흐르도록 구성 판단을 함께 수행했습니다.

---

## ✅ 주요 경험 내용

### 1. 정책 적용 위치 결정
- 방화벽은 **TOP-DOWN 방식**이기 때문에,  
  새로운 정책이 기존 정책에 의해 블록되지 않도록  
  **정책 위치를 면밀히 확인하고 삽입**했습니다.

### 2. 정책 분리
- 사용자 그룹, 목적지, 서비스 유형별로 **정책을 분리 구성**하고  
  중복되지 않도록 구조화된 정책 구성을 유지했습니다.

### 3. 정책 수정/삭제
- IP, 포트 변경 요청에 따라 **기존 정책을 안전하게 수정**
- 사용하지 않는 정책은 **로그 확인 후 정리**

---

## 🔄 보안존 간 통신 정책 설계

사용자 ↔ 서버 간 단순 통신 외에도,  
**A 보안존 → B 보안존 간 내부 시스템 연동**을 위한 정책을 설계했습니다.

예시:

| 구분 | 정책 방향 | 목적 | 포트 | 설명 |
|------|------------|--------|------|------|
| 아웃바운드 | A → B | Web → DB 통신 | TCP 3306 | DB 접근 요청 |
| 인바운드 | B → A | DB → Web 응답 | TCP 3306 | 응답 허용 |

- 양쪽 정책이 모두 정상 구성되어야 통신 가능
- 응답 트래픽만 허용하는 **Stateful 정책 구조** 고려

---

## 🔍 정책 변경 전 확인 항목

- 기존 정책과 충돌 여부 (deny-rule 위 위치 확인)
- 출발지/목적지 IP 정확성 확인
- 포트 범위 및 프로토콜 확인 (TCP/UDP)
- 요청 문서와 정보 일치 여부

---

## ✅ 적용 후 검증

- 방화벽 로그에서 정책 hit 여부 확인
- 서비스 동작 확인 및 모니터링

---

## 🧹 불필요한 정책 정리

- 90일 이상 트래픽 없는 정책 → 삭제 후보
- 중복 정책 및 불명확한 정책명 → 통일
- 만료된 외주 계정 정책 → 삭제
